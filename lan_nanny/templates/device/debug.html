<!-- Device Info -->

{% extends "layout.html" %}

{%block head%}
  <link href="https://cdn.jsdelivr.net/gh/gitbrent/bootstrap4-toggle@3.6.1/css/bootstrap4-toggle.min.css" rel="stylesheet">
{%endblock%}

{% block content %}
  {% with active_page=active_page_devices %}
    {% include "device/heading.html" %}
  {% endwith %}

  <!-- Content Row -->
  <div class="row">

    <!-- Device Basics -->
    <div class="col-xl-6 col-lg-6">
      <div class="card shadow mb-4">
        <!-- Card Header -->
        <div class="card-header py-3 d-flex flex-row align-items-center justify-content-between">
          <h6 class="m-0 font-weight-bold text-primary">
            Basic Details
          </h6>
        </div>
        <div class="card-body">
          <div class="table-responsive">
            <table class="table table-striped" id="dataTable" width="100%" cellspacing="0">
              <tr>
                <td>ID</td>
                <td>{{device.id}}</td>
              </tr>
            </table>
          </div>
        </div>
      </div>
    </div><!-- END Device Basics -->

    <!-- Device Metas -->
    <div class="col-xl-6 col-lg-6">
      <div class="card shadow mb-4">
        <!-- Card Header -->
        <div class="card-header py-3 d-flex flex-row align-items-center justify-content-between">
          <h6 class="m-0 font-weight-bold text-primary">
            Metas
          </h6>
        </div>
        <div class="card-body">
          {%if device.metas%}
          <div class="table-responsive">
            <table class="table table-striped" id="dataTable" width="100%" cellspacing="0">
              <thead>
                <tr>
                  <td>Key</td>
                  <td>Value</td>
                  <td>Updated</td>
                </tr>
              </thead>
              {%for meta_key, meta in device.metas.items()%}
              <tr>
                <td>{{meta_key}}</td>
                <td>{{meta.value}}</td>
                <td>{{meta.update_ts}}</td>
              </tr>
              {%endfor%}
            </table>
          </div>
          {%else%}
            Device has no meta values
          {%endif%}
        </div>
      </div>
    </div><!-- END Device Basics -->


  </div>
{%endblock%}

{%block javascript%}
  <script type="text/javascript">
    $( document ).ready(function(){
      var device_favorite_status = convert_str_bool("{{device.favorite}}");
      register_favorite_button('#device-favorite', device_favorite_status, '/device/favorite/{{device.id}}')
    });
  </script>
{%endblock%}


<!-- End File: lan-nanny/templates/device/debug.html